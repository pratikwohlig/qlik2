<div id="chat_window_1" ng-controller="ChatCtrl" chatbotHeight >
        <div class="panel panel-primary " id="chat_panel" ng-init="chat_tab = 1">
            <div class="panel-heading container-fluid" id="accordion">
                <span class="glyphicon glyphicon-comment"></span> Chat
                <!--<ul class="nav nav-tabs" id="chatTabs">
                    <li class="active" data-toggle="tab" ng-click="chat_tab=1"><a href="#chattab">Chat</a></li>
                    
                </ul>-->
                <div class="btn-group pull-right">
                    <a type="button" class="btn btn-default btn-xs hidden" href="#">
                        <span id="minim_chat_window " class="glyphicon glyphicon-minus icon_minim"></span>
                    </a>
                    <a type="button" class="btn btn-default btn-xs" ng-click="minimizeChatwindow();" href="#">
                        <span class="glyphicon glyphicon-remove icon_close" data-id="chat_window_1"></span>
                    </a>
                </div>
            </div>
            <div class="container-fluid chatbody">
                <!-- <div class="tab-content chattab-content"> -->
                    
                    <!-- <div class="tab-pane active row" id="chattab" ng-if="chat_tab === 1"> -->
                        <div class="panel-body row"> 
                            <ul class="chat">
                                <li class="{{list.position}} lastchat clearfix" ng-repeat="list in chatlist track by $index">
                                    <span class="chat-img pull-{{list.position}}">
                                        <img ng-src="img/{{list.position == 'left' && 'logo5.jpg' || 'logo7.png'}}" alt="BOT" class="img-circle " />
                                    </span>
                                    <div class="chat-body">
                                        <div class="clearfix" ng-if="list.position==='right'">
                                            <p class="lastmsg" >
                                                <ng-bind-html ng-bind-html = "list.msg">
                                                    {{list.msg}}
                                                </ng-bind-html>
                                            </p>
                                        </div>
                                        <div class=" clearfix" ng-if="list.position==='left' ">
                                            <div class="sysChatRes"  >
                                                <div class="chatType" ng-if="list.msg.type==='iframe'">
                                                    <p ng-if="list.msg.text !==''" class="systext">
                                                        {{list.msg.text}}
                                                    </p>
                                                    <!-- <iframe id="framechart" class="framechart" ng-src="{{trustSrc(list.msg.url);}}"> content </iframe> -->
                                                    <object data="{{trustSrc(list.msg.url);}}" class="framechart" >
                                                        <embed ng-src="{{trustSrc(list.msg.url);}}"  > </embed>
                                                    </object>
                                                    <div class="qlikdiv qvobject" id="qlikdiv">
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class=" clearfix" ng-if="(list.position==='left' &&  (list.msg.type==='SYS_INACTIVE' || list.msg.type==='SYS_FIRST'))">
                                            <p class="lastmsg" >
                                                <ng-bind-html ng-bind-html = "list.msg.Text">
                                                    {{list.msg.Text}}
                                                </ng-bind-html>
                                            </p>
                                        </div>
                                        <p class="lastmsg">
                                            <small class="chatTime">
                                                <span class="glyphicon glyphicon-time">
                                                </span>
                                                {{list.curTime | date: 'HH:mm:ss a'}}
                                            </small>
                                        </p>
                                    </div>
                                </li>    
                            </ul>
                        </div>
                        <div class="panel-footer row">
                            <div class="form-group">
                                <span  class="thumbsIcon">
                                    <span class="chatbottomtext">Was this information useful ? 
                                        <span class="thumbsup glyphicon glyphicon-thumbs-up" ng-click="likeChatClick();"></span>&nbsp; 
                                        <span class="thumbsdown glyphicon glyphicon-thumbs-down" ng-click="dislikeChatClick();"></span>
                                    </span>
                                </span>
                            
                                <div class="loader_msg" ng-show="showMsgLoader">
                                    <div class="loading">Typing</div>
                                </div>
                                <div class="input-group chatinputgroup" ng-controller="SpeechRecognitionController as speech">
                                    <input type="text" class="form-control chatinput" ng-change="" ng-model="chatText" id="userMsg" placeholder="Type your message here..." autofocus  typeahead="list for list in autocompletelist" ng-keyup="onKeyUp($event)" x-webkit-speech />
                                    <div class="input-group-addon" ng-speech-recognition-start="" ng-speech-recognition-end="speech.displayTranscript()">
                                        <span class="speechtotext"  >
                                            <i class="fa fa-microphone fa-3"></i>
                                            
                                        </span>
                                    </div>
                                    <audio controls class="hidden ttsaudio" id="ttsaudio" src="">
                                        
                                    </audio>
                                </div>
                                <!--<input type="hidden"  name="user_id" id="user_id"  value="{{sessionId}}" />-->
                                <div id="autocomplete_field"></div>
                                <div id="field_val"></div>
                                <div id="field_id"></div>
                            </div>
                            <a id="mybtn_trigger" class="hidden" ng-click="Speaktext(text);">Speakme</a>
                            <!--<div id= "suggestionList">
                                <ul ng-if="autocompletelist.length > 0" class="{{autocompletelist.length}}  ui-menu ui-widget ui-widget-content ui-autocomplete ui-front" id="ui-id-1">
                                    <div class="ui-menu-item-wrapper">
                                        <li class="ui-menu-item autolist" data-id="{{list.id}}" data-value="{{list.value}}"  ng-repeat="list in autocompletelist | filter:chatText  " ng-click="pushMsg(list.id,list.value);"  ng-bind-html="list.value | highlight:chatText" >{{list.value}}</li>
                                    </div>
                                </ul>
                            </div>-->
                        </div>
                    <!-- </div> -->  
                <!-- </div> -->
            </div>
        </div>
    </div>